@using System.Diagnostics

@inject NavigationManager NavigationManager
@inject AuthenticationService AuthenticationService

<div class="login-or-out-container">
    <AuthorizeView>
        <Authorized>
            <div class="user-actions">
                <div class="name">@userName</div>
                <button class="b1" @onclick="@(() => NavigationManager.NavigateTo("/Account/LogOut", forceLoad: true))">Logout</button>
            </div>
        </Authorized>
        <NotAuthorized>
            <div class="user-actions">
                <div class="name">@userName</div>
                <button class="b1" @onclick="@(() => NavigationManager.NavigateTo("/Account/Login", forceLoad: true))">Login</button>
            </div>
        </NotAuthorized>
    </AuthorizeView>
</div>

@code{
	

	private string userName = "Guest";

	protected override async Task OnInitializedAsync()
	{
		userName = await AuthenticationService.GetUserNameAsync();
	}
}